#!/bin/bash

if should_config "vim"; then

    print_h2 "Vim"

    cp -f $DIR/lib/vim/.vimrc $DIR
    mkdir -p $DIR/.vim/{autoload,bundle}
    #cp -Rf $DIR/lib/vim/plugin $DIR/.vim

    # vundle - plugin manager
    if [ ! -d $DIR/.vim/bundle/vundle ]; then
        git clone \
            https://github.com/gmarik/Vundle.vim.git \
            $DIR/.vim/bundle/vundle
    else
        (cd $DIR/.vim/bundle/vundle; git pull)
    fi
    # pathogen - plugin manager
    wget \
        https://raw.githubusercontent.com/tpope/vim-pathogen/master/autoload/pathogen.vim \
        -O $DIR/.vim/autoload/pathogen.vim

    # solarized
    if [ ! -d $DIR/.vim/bundle/solarized ]; then
        git clone \
            https://github.com/altercation/vim-colors-solarized.git \
            $DIR/.vim/bundle/solarized
    else
        (cd $DIR/.vim/bundle/solarized; git pull)
    fi
    # nerdtree
    #if [ ! -d $DIR/.vim/bundle/nerdtree ]; then
    #    git clone https://github.com/scrooloose/nerdtree.git $DIR/.vim/bundle/nerdtree
    #else
    #    (cd $DIR/.vim/bundle/nerdtree; git pull)
    #fi

fi

if should_config "mc"; then

    print_h2 "Midnight Commander"

    mkdir -p $DIR/.config/mc
    [ -f /etc/mc/mc.keymap ] && cp -L /etc/mc/mc.keymap $DIR/.config/mc
    [ -f /usr/local/etc/mc/mc.keymap ] && cp -L /usr/local/etc/mc/mc.keymap $DIR/.config/mc
    [ -f /etc/mc/mc.menu ] && cp -L /etc/mc/mc.menu $DIR/.config/mc/menu
    [ -f /usr/local/etc/mc/mc.menu ] && cp -L /usr/local/etc/mc/mc.menu $DIR/.config/mc/menu
    cp -f $DIR/lib/mc/* $DIR/.config/mc

fi

if should_config "lynx"; then

    print_h2 "Lynx"

    cp -f $DIR/lib/lynx/.lynx* $DIR

fi

if should_config "irssi"; then

    print_h2 "Irssi"

    mkdir -p $DIR/.irssi
    cp -f $DIR/lib/irssi/config $DIR/.irssi
    file_replace_str "real_name = \"\"" "real_name = \"$USER_NAME\"" $DIR/.irssi/config

fi

if should_config "go"; then

    print_h2 "Go"

    cat <<EOF > $DIR/lib/profile.d/go.sh
#!/bin/bash
export GOROOT=~/usr/applications/go
export PATH=\$PATH:~/usr/applications/go/bin
EOF
    chmod +x $DIR/lib/profile.d/go.sh

fi

if should_config "groovy"; then

    print_h2 "Groovy"

    cat <<EOF > $DIR/lib/profile.d/groovy.sh
#!/bin/bash
export PATH=\$PATH:~/usr/applications/groovy/bin
EOF
    chmod +x $DIR/lib/profile.d/groovy.sh

fi

if should_config "scala"; then

    print_h2 "Scala"

    cat <<EOF > $DIR/lib/profile.d/scala.sh
#!/bin/bash
export PATH=\$PATH:~/usr/applications/scala/bin
EOF
    chmod +x $DIR/lib/profile.d/scala.sh

fi

if should_config "gradle"; then

    print_h2 "Gradle"

    cat <<EOF > $DIR/lib/profile.d/gradle.sh
#!/bin/bash
export PATH=\$PATH:~/usr/applications/gradle/bin
EOF
    chmod +x $DIR/lib/profile.d/gradle.sh

fi

if should_config "maven"; then

    print_h2 "Maven"

    mkdir -p $DIR/.m2
    cp -f $DIR/lib/maven/settings*.xml $DIR/.m2

    cat <<EOF > $DIR/lib/profile.d/maven.sh
#!/bin/bash
export PATH=\$PATH:~/usr/applications/maven/bin
EOF
    chmod +x $DIR/lib/profile.d/maven.sh

fi

if should_config "ant"; then

    print_h2 "Ant"

    cat <<EOF > $DIR/lib/profile.d/ant.sh
#!/bin/bash
export PATH=\$PATH:~/usr/applications/ant/bin
EOF
    chmod +x $DIR/lib/profile.d/ant.sh

fi
