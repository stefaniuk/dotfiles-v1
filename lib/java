#!/bin/bash

# ### Mac OS X #################################################################

function macosx-install-java {

    $cask_install java java9-beta
}

function macosx-config-java {

    $brew_install jenv
    cat <<EOF > $DIR/etc/profile.d/java.sh
#!/bin/bash
export PATH=\$PATH:~/.jenv/bin
eval "\$(jenv init -)"
EOF
    for version in $(ls -1 /Library/Java/JavaVirtualMachines); do
        [ ! -x /Library/Java/JavaVirtualMachines/$version/Contents/Home/bin/java ] && continue
        echo 'yyy' | jenv add /Library/Java/JavaVirtualMachines/$version/Contents/Home
    done
    jenv global 1.8
    jenv sh-enable-plugin export
}

# ### Ubuntu ###################################################################

function ubuntu-install-java {

    $apt_add_repository ppa:webupd8team/java
    $apt_get_update
    echo debconf shared/accepted-oracle-license-v1-1 select true | debconf-set-selections
    echo debconf shared/accepted-oracle-license-v1-1 seen true | debconf-set-selections
    $apt_get_install oracle-java8-installer oracle-java8-set-default
}
